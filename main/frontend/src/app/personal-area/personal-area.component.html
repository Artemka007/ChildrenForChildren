<form class="Profile" *ngIf="user" #editProfileForm="ngForm" (ngSubmit)="endEdit(true)">
    <div class="Profile__Tools-Nav">
        <span class="Item-1" *ngIf="checkUser()">
                <button type="button" class="Edit-Btn" *ngIf="!isEditing" (click)="startEdit()"></button>
                <button type="submit" class="Ok-Edit-Btn" *ngIf="isEditing"></button>
                <button type="button" class="Not-Edit-Btn" *ngIf="isEditing" (click)="endEdit(false)"></button>
        </span>
        <span class="Item-2" type="button"><button (click)="logout()"></button></span>
    </div>
    <main class="Profile__Content">
        <div class="Profile__Content__Status-User-Information">
            <div class="Item-1">
                <div class="Avatar"><img src="/media/icons/profile.png" alt="" /> </div>
                <div class="Username-Status">
                    <div class="Username">{{user.fullName}}</div>
                    <div class="Status">{{user.profile?.status || "Статус не указан"}}</div>
                </div>
            </div>
            <div class="Item-2">
                <div class="User-In-School-Status">{{checkUserInSchoolStatus(user.profile.user_in_school_status)}}</div>
                <div class="Online-Status">online</div>
            </div>
        </div>
        <div class="Profile__Content__Main-User-Information">
            <div class="Title">Основное</div>
            <div class="Content">
                <div class="Item">
                    <div class="Key">Имя:</div>
                    <div class="Description" *ngIf="!isEditing">{{user.firstName}}</div>
                    <div class="Field" *ngIf="isEditing && checkUser()">
                        <input name="firstName" required maxlength="64" class="Edit-Description" [(ngModel)]="user.firstName" #firstName="ngModel" />
                        <span class="Validator" *ngIf="firstName.errors?.required">Обязательное поле.</span>
                    </div>
                </div>
                <div class="Item">
                    <div class="Key">Фамилия:</div>
                    <div class="Description" *ngIf="!isEditing">{{user.lastName}}</div>
                    <div class="Field" *ngIf="isEditing && checkUser()">
                        <input name="lastName" required maxlength="64" class="Edit-Description" [(ngModel)]="user.lastName" #lastName="ngModel" />
                        <span class="Validator" *ngIf="lastName.errors?.required">Обязательное поле.</span>
                    </div>
                </div>
                <div class="Item">
                    <div class="Key">Отчество:</div>
                    <div class="Description" *ngIf="!isEditing">{{user.profile.patronymic || "Отчество не указано."}}</div>
                    <div class="Field" *ngIf="isEditing && checkUser()">
                        <input name="patronymic" required maxlength="64" class="Edit-Description" [(ngModel)]="user.profile.patronymic" #patronymic="ngModel" />
                        <span class="Validator" *ngIf="patronymic.errors?.required">Обязательное поле.</span>
                    </div>
                </div>
                <div class="Item">
                    <div class="Key">Возраст:</div>
                    <div class="Description" *ngIf="!isEditing">{{user.profile.age + " лет"}}</div>
                    <div class="Field" *ngIf="isEditing && checkUser()">
                        <input name="age" required type="number" class="Edit-Description" [(ngModel)]="user.profile.age" #age="ngModel" max="128" />
                        <span class="Validator" *ngIf="age.errors?.required">Обязательное поле.</span>
                    </div>
                </div>
                <div class="Item">
                    <div class="Key">Страна:</div>
                    <div class="Description" *ngIf="!isEditing">{{user.profile?.country || "Страна не указана."}}</div>
                    <div class="Field" *ngIf="isEditing && checkUser()">
                        <input name="country" class="Edit-Description" [(ngModel)]="user.profile.country" #country="ngModel" />
                    </div>
                </div>
                <div class="Item">
                    <div class="Key">Город:</div>
                    <div class="Description" *ngIf="!isEditing">{{user.profile?.city || "Город не указан."}}</div>
                    <div class="Field" *ngIf="isEditing && checkUser()">
                        <input name="city" maxlength="64" class="Edit-Description" [(ngModel)]="user.profile.city" #city="ngModel" />
                    </div>
                </div>
                <div class="Item">
                    <div class="Key">О себе:</div>
                    <div class="Description" *ngIf="!isEditing">{{user.profile?.about_me || "О себе не написано."}}</div>
                    <div class="Field" *ngIf="isEditing && checkUser()">
                        <textarea name="about_me" maxlength="64" class="Edit-Description" [(ngModel)]="user.profile.about_me" #about_me="ngModel"></textarea>
                    </div>
                </div>
            </div>
        </div>
        <div class="Profile__Content__Contacts-User-Information">
            <div class="Title">Контакты</div>
            <div class="Content">
                <div class="Item">
                    <div class="Key">Email:</div>
                    <div class="Description" *ngIf="!isEditing">{{user.email}}</div>
                    <div class="Field" *ngIf="isEditing && checkUser()">
                        <input name="email" required maxlength="64" class="Edit-Description" [(ngModel)]="user.email" #email="ngModel" />
                        <span class="Validator" *ngIf="email.errors?.required">Обязательное поле.</span>
                    </div>
                </div>
                <div class="Item">
                    <div class="Key">Телефон:</div>
                    <div class="Description" *ngIf="!isEditing">{{user.profile?.phone || "Телефон не указан."}}</div>
                    <div class="Field" *ngIf="isEditing && checkUser()">
                        <input name="phone" required maxlength="16" class="Edit-Description" [(ngModel)]="user.profile.phone" #phone="ngModel" />
                        <span class="Validator" *ngIf="phone.errors?.required">Обязательное поле.</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="Profile__Content__Projects-User-Information"></div>
        <div class="Profile__Content__Password-Change"></div>
    </main>
</form>